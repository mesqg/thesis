\documentclass{article}

\usepackage[utf8]{inputenc}
\usepackage{ upgreek }
\usepackage{mathpartir}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{tcolorbox}

\input{macros}
\begin{document}
\begin{flushleft}
  \namedRuleform{ {\imEnv;\tyEnv \vdash_{tm} \term : \type;\eqCts;\imCts;\term'} }
                {Source Type Inference with translation}
\end{flushleft}\\
\begin{flushleft}
  \namedRuleform{ {\imEnv \vDash_i \type_1 \rightsquigarrow \type_2;\Theta} }
                {Implicit Conversion Resolution with Loop Detection}
\end{flushleft}\\
$\imEnv = i : Int \rightsquigarrow Bool = \lambda x. True$\\
$\tyEnv = not : Bool \rightarrow Bool$\\
$\term = (\lambda \tmVar.not \; \tmVar) \; 5$\\
$\inferrule*[]{\imEnv;\tyEnv\vdash_{tm}\term_1:\type_1;E_1;Y_1;e_1'\\ \imEnv;\tyEnv\vdash_{tm}\term_2:\type_2;E_2;Y_2;e_2'\\ fresh\;a,\;b\;and\;j}{\imEnv;\tyEnv\vdash_{tm}\term_1\;\term_2:\tyVar;E_1+E_2+(\type_1 \sim b \rightarrow \tyVar);Y_1+Y_2+(j:\type_2 \rightsquigarrow b);e_1'\;(j\;e_2')}$\\
$\term'=(\lambda x.not\;(j_1\;x))\;(j_2\;5)$\\
$E=Bool \rightarrow Bool \sim c \rightarrow b,a \rightarrow b \sim e \rightarrow d$\\
$Y=a \rightsquigarrow c, Int \rightsquigarrow e$\\
$j_1 = id$\\
$j_2 = i$

\end{document}

